<!DOCTYPE html>
<html lang="en-US">
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="../../../../static/images/helpful_logo_1.png" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel='dns-prefetch' href='../../../../index.html' />
  <link rel='dns-prefetch' href='http://s.w.org/' />
  <link rel='stylesheet' id='style-css' href='../../../../static/css/style6fd2.css' type='text/css' media='all' />
  <link rel="shortcut icon" href="../../../../static/images/helpful_logo_1.png" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  <link rel="stylesheet" href="../../../../static/css/form.css">
</head>

<body class="">
  <div id="container">
    <div class="preloadContainer ">
      <div class="topbar ">
        <div class="content">
          <div class="topbar__inner">
            <a href="{{ url_for('MCA_Funder_Home.MCA_Funder_Home') }}" class="logo" title="Active MCA">
              <img src="../../../../static/images/helpful_logo_dark.png" style="width:150px; height:auto; margin-top:-5%; margin-left:-17%"> </img>
              <p class=logo-text></p>
            </a>
            <div class="tagline"></div>
            <button class="menubtn">
              <span class="menubtn__title">Menu</span>
              <div class="menubtn__icon">
                <span class="icon-first"></span>
                <span class="icon-second"></span>
                <span class="icon-third"></span>
              </div>
            </button>
          </div>
        </div>
      </div>
      <div class="drawer">
        <div class="content">
          <div class="drawer__container">
            <div class="drawer__inner">
              <div class="drawer__menu">
                <nav class="menu-menu-container">
                  <ul style="margin-left:-10%" id="menu-menu" class="menu grid">
                    <div>
                      <li id="menu-item-431" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-431"><a href="{{ url_for('MCA_Funder_Home.MCA_Funder_Home') }}">Home</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Advance_Manager.MCA_Advance_Manager') }}">Advances</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Merchant_Manager.MCA_Merchant_Manager') }}">Merchants</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_ISO_Manager.MCA_ISO_Manager') }}">ISOs</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Syndicator_Manager.MCA_Syndicator_Manager') }}">Syndicators</a><sup></sup></li>
                    </div>
                    <div>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Prefunded.MCA_Prefunded') }}">Pre-funded</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Notifications.MCA_Notifications') }}">Notifications</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Transactions.MCA_Transactions') }}">Transactions</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_User_Manager.MCA_User_Manager') }}">Users</a><sup></sup></li>
                      <li id="menu-item-429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-429"><a href="{{ url_for('MCA_Funder_Contact.MCA_Funder_Contact') }}">Contact</a><sup></sup></li>
                    </div>
                  </ul>
                </nav>
              </div>
              <div class="drawer__bottom">
                <div class="drawer__contact">
                  <form method="post" action="{{ url_for('logout') }}">
                    <button style="color:#fff" type="submit" value="logout" name="logout">Logout</button>
                  </form>
                </div>
                <div class="drawer__language">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="body" class="services">
        <section id="hero" class="background--black" style="margin-top:20%">
          <div class="content hero__grid services_margin" style="z-index:1; position:relative;">
            <div class="hero__headline">
              <h1>Select Syndicators and Fund <span class="subtitle" style="font-size:25px">{{ company_name }}<br><br></span></h1>

              <div class="quick_click">
                <a href="{{ url_for('MCA_Advance_Manager.MCA_Advance_Manager') }}" class="quick_button">Advances</a>
                <a href="{{ url_for('MCA_Merchant_Manager.MCA_Merchant_Manager') }}" class="quick_button">Merchants</a>
                <a href="{{ url_for('MCA_Transactions.MCA_Transactions') }}" class="quick_button">Transactions</a>
                <a href="{{ url_for('MCA_Prefunded.MCA_Prefunded') }}" class="quick_button">Pre-Funded</a>
                <a href="{{ url_for('MCA_Notifications.MCA_Notifications') }}" class="quick_button">Notifications</a>
                {% if notification_count > 0 %}
                <span class="badge">{{ notification_count }}</span>
                {% endif %}
              </div>
            </div>
          </div>
        </section>
        <section id="services" class="background--light">
          <div id="dynamic_page_height">

            <div id="form_height" class="form-container" style="margin-top:5%">
              <a href="{{ url_for('MCA_Prefunded.MCA_Prefunded') }}">
                <h1 style="font-size:25px; margin-bottom:5%; margin-left:-5%; padding-top:2%">← Prefunded</h1>
              </a>
              {% for category, message in get_flashed_messages(with_categories=true) %}
              <p class="{{ category }}">{{ message }}</p>
              {% endfor %}
              <br>
              <form action="{{ url_for('MCA_Fund.MCA_Fund', company_id_var=company_id_var) }}" method="post" onsubmit="return confirm('Confirm and Fund');">


                <h1 class="section_headline" style="float:left; width:100%"><br>Set Syndicator Participation</h1>
                <div class="config-select">
                  <div class="fieldset md-whiteframe-z1">
                    <input type="radio" value="percent_1" id="percent_1" name="config_1" class="trigger" checked>
                    <label for="percent_1"><span>%</span></label>
                    <input type="radio" value="dollar_1" id="dollar_1" name="config_1" class="trigger">
                    <label style="margin-left:10px" for="dollar_1"><span>$</span></label>
                    <span class="switch md-whiteframe-z1"></span>
                  </div>
                </div>
                <div class="row" style="width:100%; margin-bottom:12%; margin-top:5%; margin-left:0%">
                  <div class="input-field" style="width:20%">
                    <select name="presets" class="select" id="presets">
                      <option value="" disabled selected hidden></option>
                      {% for pre in preset_names %}
                      <option value="{{ pre }}">{{ pre }}</option>
                      {% endfor %}
                    </select>
                    <label style="font-size: 0.8rem; -webkit-transform: translateY(-150%); transform: translateY(-150%);" for="presets">Syndicator Presets</label>
                  </div>
                </div>
                <br><br><br><br><br>
                {% if all_syndicators != 0 %}
                {% for synd in all_syndicators %}
                <div class="row" style="margin-left:2.5%; width:28%; margin-bottom:5%">
                  <div class="input-field" style="width:45%; margin-left:15%; margin-top:-20px">
                    <p>{{ synd|whitespace_underscore }}</p>
                  </div>
                  <div class="input-field" style="width:45%; margin-left:55%; margin-top:-45px">
                    <input id='val_ad_{{ synd }}' type="text" name="{{ synd }}" class="validate">
                    <label style="font-size:10px" for="{{ synd }}"></label>
                  </div>
                </div>
                {% endfor %}
                {% else %}
                <h1><br>No Syndicators!</h1>
                {% endif %}



                <script>


            $('#percent_1').click(function () {
                if ($('#percent_1').is(':checked')) {
                    var sum = 0;
                    $(".validate").each(function () {
                        if ($(this).val().length != 0) {
                            var og_val = $(this).val().replace(/\D/g, '');
                            $(this).val(og_val + '%');
                        }
                        sum += +$(this).val().replace(/\D/g, '');
                    });
                    $('#total').text(sum + '%');
                    if (sum != 100) {
                        $("#total").addClass("red");
                        $("#total").removeClass("green");
                    } else {
                        $("#total").addClass("green");
                        $("#total").removeClass("red");
                    }

                }
            });


            $('#dollar_1').click(function () {
                if ($('#dollar_1').is(':checked')) {
                    var sum = 0;
                    $(".validate").each(function () {
                        if ($(this).val().length != 0) {
                            var og_val = $(this).val().replace(/\D/g, '');
                            $(this).val('$' + og_val.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        }
                        var advance_amount = "{{ advance_amount|safe }}";
                        var synd_amount = $(this).val().replace(/\D/g, '');
                        sum_percent = (synd_amount / advance_amount) * 100;
                        sum += sum_percent;
                    });
                    $('#total').text(sum.toFixed(3) + '%');
                    if (sum.toFixed(3) != 100) {
                        $("#total").addClass("red");
                        $("#total").removeClass("green");
                    } else {
                        $("#total").addClass("green");
                        $("#total").removeClass("red");
                    }

                }
            });


            $(document).on("change", ".validate", function () {

                var advance_amount = "{{ advance_amount|safe }}";
                var og_val = $(this).val().replace(/\D/g, '');

                if ($('#dollar_1').is(':checked')) {
                    $(this).val('$' + og_val.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));

                    var sum = 0;
                    $(".validate").each(function () {
                        var synd_amount = $(this).val().replace(/\D/g, '');
                        sum_percent = (synd_amount / advance_amount) * 100;
                        sum += sum_percent;
                    });

                } else {
                    $(this).val(og_val + '%')

                    var sum = 0;
                    $(".validate").each(function () {
                        sum += +$(this).val().replace(/\D/g, '');
                    });
                };

                // $(".total").val(sum);
                $('#total').text(sum.toFixed(3) + '%');
                if (sum.toFixed(3) != 100) {
                    $("#total").addClass("red");
                    $("#total").removeClass("green");
                } else {
                    $("#total").addClass("green");
                    $("#total").removeClass("red");
                }


            });





            // Numeric only control handler
            jQuery.fn.ForceNumericOnly =
                function () {
                    return this.each(function () {
                        $(this).keydown(function (e) {
                            var key = e.charCode || e.keyCode || 0;
                            // allow backspace, tab, delete, enter, arrows, numbers and keypad numbers ONLY
                            // home, end, period, and numpad decimal
                            return (
                                key == 8 ||
                                key == 9 ||
                                key == 13 ||
                                key == 46 ||
                                key == 110 ||
                                key == 190 ||
                                (key >= 35 && key <= 40) ||
                                (key >= 48 && key <= 57) ||
                                (key >= 96 && key <= 105));
                        });
                    });
                };


            $(".validate").ForceNumericOnly();




            var all_presets = {{ all_presets | safe }};


            $(document).on("change", "#presets", function () {


                $('#percent_1').prop('checked', true);

                var select_val = $(this).val()


                selected_num = 0
                for (let i = 0; i < all_presets.length; i++) {
                    if (all_presets[i][0].includes(select_val)) {
                        selected_num = i
                    }
                };


                $(".validate").each(function () {
                    $(this).val(null);
                });


                for (let i = 1; i < all_presets[selected_num].length; i++) {
                    $('#val_ad_' + String(all_presets[selected_num][i][0])).val(all_presets[selected_num][i][1] + '%');
                    $('#val_ad_' + String(all_presets[selected_num][i][0])).focus();
                };




                var sum = 0;
                $(".validate").each(function () {
                    if (isNaN($(this).val())) {
                        sum += parseInt($(this).val().replace(/\D/g, ''));
                    }
                });
                $('#total').text(String(sum) + '%');
                if (sum != 100) {
                    $("#total").addClass("red");
                    $("#total").removeClass("green");
                } else {
                    $("#total").addClass("green");
                    $("#total").removeClass("red");
                }
            });





            $("form").submit(function (e) {
                var sum = 0;
                $(".validate").each(function () {
                    if (isNaN($(this).val())) {
                        sum += parseInt($(this).val());
                    }
                });
                if (sum != 100) {
                    e.preventDefault();
                    alert("Total Percent Does NOT Equal 100")
                }
            });

                </script>
                <div class="row" style="margin-left:2.5%; width:100%; margin-bottom:5%">
                  <h1>Total Percent: <span id="total">0%</span></h1>
                </div>
                <div>
                  <button style="margin-top:5%" class="waves-effect waves-light btn submitbtn" type="submit">Fund</button>
                </div>
              </form>
            </div>
          </div>
        </section>


        <style>
          .config-select {
            text-align: center;
            z-index: 10;
            position: absolute;
            margin-left: 80%;
            margin-top: 15%;
          }

          .config-select .fieldset {
            display: inline-block;
            position: relative;
            padding-top: 1px;
            padding-bottom: 6px;
            border-radius: 0.5em;
            border: 1px solid #666666;
            */
          }

          .config-select input[type="radio"] {
            position: absolute;
            opacity: 0;
          }

          .config-select label {
            position: relative;
            z-index: 1;
            display: inline-block;
            float: left;
            width: 55px;
            height: 35px;
            line-height: 40px;
            cursor: pointer;
            font-size: 20px;
            color: rgb(158, 158, 158);
            transition: all 500ms ease-in-out;
          }

          .config-select .switch {
            /* floating background */
            position: absolute;
            left: 1px;
            height: 40px;
            width: 55px;
            background-color: #106cc8;
            border-radius: 0.5em;
            -webkit-transition: -webkit-transform 0.5s;
            -moz-transition: -moz-transform 0.5s;
            transition: transform 0.5s;
          }

          .config-select input[type="radio"]:checked+label {
            color: #eee;
            -webkit-transition-delay: 180ms;
            -moz-transition-delay: 180ms;
            transition-delay: 180ms;
          }

          .config-select input[type="radio"]:nth-of-type(odd):checked+label~.switch,
          .config-select input[type="radio"]:nth-of-type(odd):checked+label:nth-of-type(odd)~.switch {
            -webkit-transform: translateX(0px);
            -moz-transform: translateX(0px);
            -ms-transform: translateX(0px);
            -o-transform: translateX(0px);
            transform: translateX(0px);
          }

          .config-select input[type="radio"]:nth-of-type(even):checked+label~.switch,
          .config-select input[type="radio"]:nth-of-type(even):checked+label:nth-of-type(even)~.switch {
            -webkit-transform: translateX(63px);
            -moz-transform: translateX(63px);
            -ms-transform: translateX(63px);
            -o-transform: translateX(63px);
            transform: translateX(63px);
          }


          .red {
            color: red;
          }

          .green {
            color: green;
          }

          .section_headline {
            margin-bottom: 3%;
          }

          *,
          *::before,
          *::after {
            box-sizing: border-box;
          }

          select {
            // A reset of styles, including removing the default dropdown arrow
            appearance: none;
            // Additional resets for further consistency
            background-color: transparent;
            border: none;
            padding: 0 1em 0 0;
            margin: 0;
            width: 100%;
            font-family: inherit;
            font-size: inherit;
            cursor: inherit;
            line-height: inherit;
            outline: none;
            display: none;
            -webkit-appearance: none;
            -moz-appearance: none;
          }

          select::-ms-expand {
            display: none;
          }

          .select {
            width: 100%;
            border-bottom: 1px solid #9e9e9e;
            color: #000;
            padding-bottom: 0px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 300;
            display: grid;
            grid-template-areas: "select";
            align-items: center;
            height: 3rem;
            margin: 0 0 20px 0;
            box-sizing: content-box;
          }

          .select::after {
            content: "";
            width: 0.8em;
            height: 0.5em;
            background-color: #9e9e9e;
            clip-path: polygon(100% 0%, 0 0%, 50% 100%);
          }

          select,
          .select:after {
            grid-area: select;
            justify-self: end;
          }

          /* Tooltip container */
          .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted black;
            /* If you want dots under the hoverable text */
          }

          /* Tooltip text */
          .tooltip .tooltiptext {
            visibility: hidden;
            background-color: black;
            color: #fff;
            text-align: center;
            padding: 5px 0;
            border-radius: 6px;
            width: 500px;
            bottom: 110%;
            left: 50%;
            margin-left: -250px;
            /* Use half of the width (120/2 = 60), to center the tooltip */
            /* Position the tooltip text - see examples below! */
            position: absolute;
            z-index: 1;
          }

          /* Show the tooltip text when you mouse over the tooltip container */
          .tooltip:hover .tooltiptext {
            visibility: visible;
          }

          .flash_error {
            color: red;
          }

          .flash_success {
            color: green;
          }

          .under_hover {
            font-weight: bold;
            padding-bottom: 2px;
          }

          .grid {
            display: grid;
            width: 100%;
            grid-gap: 2%;
            grid-template-columns: repeat(auto-fit, minmax(22%, 1fr));
            align-items: start;
            padding-bottom: 5vw;
          }

          .grid_1 {
            display: grid;
            width: 100%;
            grid-gap: 2%;
            grid-template-columns: repeat(auto-fit, minmax(20%, 1fr));
            align-items: start;
          }

          .snap_grid {
            display: grid;
            width: 100%;
            grid-gap: 5%;
            grid-template-columns: 27% 23% 27% 23%;
            align-items: start;
          }

          .snap_grid_1 {
            display: grid;
            width: 100%;
            grid-gap: 2%;
            grid-template-columns: 65% 35%;
            align-items: start;
          }

          @media (max-width: 60em) {
            .grid {
              grid-gap: 3rem;
            }
          }

          .grid__item {
            background-color: #fff;
            border-radius: 0.4rem;
            overflow: hidden;
            box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.03);
            cursor: pointer;
            transition: 0.2s;
            height: 25vw;
          }

          .grid__item:hover {
            transform: translateY(-0.5%);
            box-shadow: 0 1.5rem 3rem rgba(0, 0, 0, 0.1);
          }

          .card__content {
            padding: 8% 8%;
          }

          .card__header {
            font-size: 1.5vw;
            font-weight: 500;
            color: #0d0d0d;
            margin-bottom: 1.5rem;
            border-bottom: #8ccdff 1px solid;
            width: 50%;
            padding-bottom: 2% !important;
            margin-top: -5%;
          }

          .card__header_1 {
            font-size: 1.35vw;
            font-weight: 500;
            color: #0d0d0d;
            margin-bottom: 1.5rem;
            border-bottom: #8ccdff 1px solid;
            width: 50%;
            padding-bottom: 2% !important;
          }

          .card__text {
            font-size: 1vw;
            letter-spacing: 0.1rem;
            line-height: 1.7;
            color: #3d3d3d;
            margin-bottom: 2.5rem;
          }

          .card__text_1 {
            font-size: 1vw;
            letter-spacing: 0.1rem;
            line-height: 1;
            color: #3d3d3d;
            margin-bottom: 2.5rem;
          }
        </style>
      </div>
      <footer class="background--black">
        <div class="content">
          <div class="footer">
            <div class="footer__company">
              <h5>Active MCA</h5>
              Constantly Working.
            </div>
            <div class="footer__office">
              <h5>Locations</h5>
              New York, NY<br />
              Charleston, SC
            </div>
            <div class="footer__contact">
              <h5>General Contact</h5>
              <a href="mailto:info@activemca.com">info@activemca.com</a>
            </div>
            <div class="footer__careers">
              <h5>Emergency Contact</h5>
              <a href="tel:404-513-3348">404-513-3348</a>
            </div>
            <div class="footer__copyright">
              Copyright © Active MCA 2020
            </div>
            <div class="footer__privacy">
              <a href="terms-and-conditions/index.html">Terms &amp; Conditions</a>
            </div>
            <div class="footer__terms">
            </div>
            <div class="footer__languages">
            </div>
            <button class="footer__up" onclick="window.scrollToTop()">
              <span class="arrow footer__up__arrow"></span>
              <span class="footer__up__text">Started from the bottom — now...</span>
            </button>
          </div>
        </div>
      </footer>
    </div>
  </div>
  <script>
    var offsetHeight = (document.getElementById('form_height').offsetHeight) + 500;
    $('#dynamic_page_height').css('height', offsetHeight + 'px');
  </script>

  <script defer="defer" src="../../../../static/js/jquery-3.5.1.min9d52.js?ver=3.5.1"></script>
  <script defer="defer" src="../../../../static/js/flickity.pkgd.min3601.js?ver=2.2.0"></script>
  <script defer="defer" src="../../../../static/js/jquery.scrollTo.min431f.js?ver=2.1.2"></script>
  <script defer="defer" src="../../../../static/js/jquery.localScroll.min001e.js?ver=2.0.0"></script>
  <script defer="defer" src="../../../../static/js/jquery.easing.min330a.js?ver=1.4.1"></script>
  <script defer="defer" src="../../../../static/js/modernizr-touchaf6c.js?ver=3.6.0"></script>
  <script defer="defer" src="../../../../static/js/select2.minf39e.js?ver=4.0.1"></script>
  <script defer="defer" src="../../../../static/js/mixitup.min3d36.js?ver=3.3.1"></script>
<!--  <script defer="defer" src="../../../../static/js/mixitup-multifilter.min7984.js?ver=3.3.4"></script> -->
  <script defer="defer" src="../../../../static/js/player.min0ad8.js?ver=2.10.0"></script>
  <script defer="defer" src="../../../../static/js/lazysizes.minf08a.js?ver=5.2.0"></script>
  <script defer="defer" src="../../../../static/js/init-distedb9.js?ver=1594221671"></script>
</body>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>

</html>
