<!DOCTYPE html>
<html lang="en-US">
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="../../../../static/images/helpful_logo_1.png" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel='dns-prefetch' href='../../../../index.html' />
  <link rel='dns-prefetch' href='http://s.w.org/' />
  <link rel='stylesheet' id='style-css' href='../../../../static/css/style6fd2.css' type='text/css' media='all' />
  <link rel="shortcut icon" href="../../../../static/images/helpful_logo_1.png" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <link rel="stylesheet" href="../../../../static/css/form.css">
</head>

<body class="">
  <div id="container">
    <div class="preloadContainer ">
      <div class="topbar ">
        <div class="content">
          <div class="topbar__inner">
            <a href="{{ url_for('MCA_Funder_Home.MCA_Funder_Home') }}" class="logo" title="Active MCA">
              <img src="../../../../static/images/helpful_logo_dark.png" style="width:150px; height:auto; margin-top:-5%; margin-left:-17%"> </img>
              <p class=logo-text></p>
            </a>
            <div class="tagline"></div>
            <button class="menubtn">
              <span class="menubtn__title">Menu</span>
              <div class="menubtn__icon">
                <span class="icon-first"></span>
                <span class="icon-second"></span>
                <span class="icon-third"></span>
              </div>
            </button>
          </div>
        </div>
      </div>
      <div class="drawer">
        <div class="content">
          <div class="drawer__container">
            <div class="drawer__inner">
              <div class="drawer__menu">
                <nav class="menu-menu-container">
                  <ul style="margin-left:-10%" id="menu-menu" class="menu grid">
                    <div>
                      <li id="menu-item-431" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-431"><a href="{{ url_for('MCA_Funder_Home.MCA_Funder_Home') }}">Home</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Advance_Manager.MCA_Advance_Manager') }}">Advances</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Merchant_Manager.MCA_Merchant_Manager') }}">Merchants</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_ISO_Manager.MCA_ISO_Manager') }}">ISOs</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Syndicator_Manager.MCA_Syndicator_Manager') }}">Syndicators</a><sup></sup></li>
                    </div>
                    <div>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Prefunded.MCA_Prefunded') }}">Pre-funded</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Notifications.MCA_Notifications') }}">Notifications</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_Transactions.MCA_Transactions') }}">Transactions</a><sup></sup></li>
                      <li id="menu-item-427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-427"><a href="{{ url_for('MCA_User_Manager.MCA_User_Manager') }}">Users</a><sup></sup></li>
                      <li id="menu-item-429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-429"><a href="{{ url_for('MCA_SignNow_Manager.MCA_SignNow_Manager') }}">Contracts</a><sup></sup></li>
                      <li id="menu-item-429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-429"><a href="{{ url_for('MCA_Funder_Contact.MCA_Funder_Contact') }}">Contact</a><sup></sup></li>

                    </div>
                  </ul>
                </nav>
              </div>
              <div class="drawer__bottom">
                <div class="drawer__contact">
                  <form method="post" action="{{ url_for('logout') }}">
                    <button style="color:#fff" type="submit" value="logout" name="logout">Logout</button>
                  </form>
                </div>
                <div class="drawer__language">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="body" class="services">
        <section id="hero" class="background--black" style="margin-top:20%">
          <div class="content hero__grid services_margin" style="z-index:1; position:relative;">
            <div class="hero__headline">
              <h1>View/Edit Cash Advance Contract <span class="subtitle" style="font-size:25px">{{ company_name }} <br><br></span></h1>
              <div class="quick_click">
                <a href="{{ url_for('MCA_Advance_Manager.MCA_Advance_Manager') }}" class="quick_button">Advances</a>
                <a href="{{ url_for('MCA_Merchant_Manager.MCA_Merchant_Manager') }}" class="quick_button">Merchants</a>
                <a href="{{ url_for('MCA_Transactions.MCA_Transactions') }}" class="quick_button">Transactions</a>
                <a href="{{ url_for('MCA_Prefunded.MCA_Prefunded') }}" class="quick_button">Pre-Funded</a>
                <a href="{{ url_for('MCA_Notifications.MCA_Notifications') }}" class="quick_button">Notifications</a>
                {% if notification_count > 0 %}
                <span class="badge">{{ notification_count }}</span>
                {% endif %}
              </div>
            </div>
          </div>
        </section>
        <section id="services" class="background--light">

          {% if advance_amount != '-' %}
          <!-- Modal Open Button -->
          <button id="open-btn" class="merch_button">
            {% if signnow_status == 'completed' %}
            <span style="color: #0e9617">Contract Signed</span>
            {% elif signnow_status == 'pending' %}
            <span style="color: #f2c41b">Contract Pending</span>
            {% else %}
            <span style="color: #924287">Send Contract</span>
            {% endif %}
          </button>
          {% endif %}


          <div id="dynamic_page_height">

            {% if signnow_status != 'None' %}
            <div id="form_height" class="form-container"
              style="background-color: rgba(0, 0, 0, 0); top: 30%; left: 10%; -webkit-transform: translate(0%, 0%); -ms-transform: translate(0%, 0%); -o-transform: translate(0%, 0%); transform: translate(0%, 0%);">
              {% elif advance_amount != '-' %}
              <div id="form_height" class="form-container"
                style="	position: relative; left:0%; background-color: rgba(0, 0, 0, 0); top: 0%; -webkit-transform: translate(0%, 0%); -ms-transform: translate(0%, 0%); -o-transform: translate(0%, 0%); transform: translate(0%, 0%);">
                {% else %}
                <div id="form_height" class="form-container"
                  style="background-color: rgba(0, 0, 0, 0); top: 25%; left: 10%; -webkit-transform: translate(0%, 0%); -ms-transform: translate(0%, 0%); -o-transform: translate(0%, 0%); transform: translate(0%, 0%);">
                  {% endif %}

                  {% for category, message in get_flashed_messages(with_categories=true) %}
                  <p class="{{ category }}">{{ message }}</p>
                  {% endfor %}
                  <br>



                  {% if advance_amount != '-' %}
                  <div style="padding-bottom:2%; padding-top:50px; margin-top:0%">
                    <div class="grid">
                      <div class="grid__item">
                        <div class="card">
                          <div class="card__content">
                            <p class="card__header">Current Contract Terms</p>
                            <div class="snap_grid">
                              <p class="card__text">
                                <strong id="hov9">Start Date -</strong>
                                <br>
                                <strong id="hov10">Expected End Date - </strong>
                                <br>
                                <strong id="hov11">Duration - </strong>
                                <br>
                                <strong id="hov12">Split Percent - </strong>
                                <br>
                                <strong id="hov13">Factor Rate - </strong>
                                <br>
                                <strong id="hov14">Fico Score - </strong>
                                <br>
                                <strong id="hov9">Funded Via - </strong>
                              </p>
                              <p class="card__text">
                                <span id="hov9">{{ start_date }}</span>
                                <br>
                                <span id="hov10">{{ expected_end_date }}</span>
                                <br>
                                <span id="hov11">{{ duration }}</span>
                                <br>
                                <span id="hov12">{{ split_percent }}%</span>
                                <br>
                                <span id="hov13">{{ factor_rate }}</span>
                                <br>
                                <span id="hov14">{{ fico_score }}</span>
                                <br>
                                <span id="hov9">{{ funded_via }}</span>
                              </p>
                              <p class="card__text">
                                <strong id="hov10">Position - </strong>
                                <br>
                                <strong id="hov11">Tags - </strong>
                                <br>
                                <strong id="hov12">ACH Pull Schedule - </strong>
                                <br>
                                <strong id="hov13">Advance Amount - </strong>
                                <br>
                                <strong id="hov13">Pull Amount - </strong>
                              </p>
                              <p class="card__text">
                                <span id="hov10">{{ position }}</span>
                                <br>
                                <span id="hov11">{{ tags }}</span>
                                <br>
                                <span id="hov12">{{ ACH_pull_schedule }}</span>
                                <br>
                                <span id="hov13">${{ advance_amount }}</span>
                                <br>
                                <span id="hov13">${{ pull_amount }}</span>
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>



                  <div class="row">
                    <div class="input-field" style="opacity:0">
                      <p>....</p>
                    </div>
                  </div>


                  <div class="edit_button">
                    <span>Edit Contract</span>
                  </div>

                  {% endif %}



                  {% if signnow_status == 'None' %}
                  {% if advance_amount != '-' %}
                  <div id="edit_contract">
                    {% else %}
                    <div id="edit_contract_1">
                      {% endif %}

                      <form action="{{ url_for('MCA_Edit_Contract.MCA_Edit_Contract', company_id_var=company_id_var) }}" method="post">


                        <h1 class="section_headline" style="float:left; width:100%; margin-top:-10%">Cash Advance Contract</h1>
                        <br>
                        <p>If you wish to update the contract, re-enter the terms you intend to update.</p>
                        <br><br>

                        <div class="row">
                          <div class="input-field">
                            <input type="date" name="start_date" required class="validate" id="start_date">
                            <label style="font-size: 0.8rem; -webkit-transform: translateY(-140%); transform: translateY(-140%);" for="start_date">Start Date</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="date" name="expected_end_date" required class="validate" id="end_date">
                            <label style="font-size: 0.8rem; -webkit-transform: translateY(-140%); transform: translateY(-140%);" for="expected_end_date">Expected End Date</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <select id="ACH_pull_schedule" name="ACH_pull_schedule" required class="select validate">
                              <option value="" disabled selected hidden></option>
                              <option value="weekdays">Daily On Weekdays</option>
                              <option value="weekly_mon">Weekly On Mondays</option>
                              <option value="weekly_tues">Weekly On Tuesdays</option>
                              <option value="weekly_wed">Weekly On Wednesdays</option>
                              <option value="weekly_thurs">Weekly On Thurdays</option>
                              <option value="weekly_fri">Weekly On Fridays</option>
                            </select>
                            <label style="font-size: 0.8rem; -webkit-transform: translateY(-150%); transform: translateY(-150%);" for="ACH_pull_schedule">ACH Pull Schedule</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="text" name="split_percent" required class="validate" maxlength="10" id="split_percent">
                            <label for="split_percent">Split Percent</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="text" name="funded_via" required class="validate" maxlength="50">
                            <label for="funded_via">Funded Via</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="text" name="fico_score" required class="validate" maxlength="10" id="fico_score">
                            <label for="fico_score">Fico Score</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="text" name="position" required class="validate" maxlength="10">
                            <label for="position">Position</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="text" name="tags" required class="validate" maxlength="50">
                            <label for="tags">Tags</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="text" id="advance_amount" name="advance_amount" required class="validate" maxlength="20">
                            <label for="advance_amount">Advance Amount</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="text" name="factor_rate" required class="validate" maxlength="10" id="factor_rate">
                            <label for="factor_rate">Factor Rate</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="config-select">
                            <div class="fieldset md-whiteframe-z1">
                              <input type="radio" value="percent_1" id="percent_1" name="config" class="trigger" checked>
                              <label for="percent_1"><span>%</span></label>
                              <input type="radio" value="dollar_1" id="dollar_1" name="config" class="trigger">
                              <label style="margin-left:10px" for="dollar_1"><span>$</span></label>
                              <span class="switch md-whiteframe-z1"></span>
                            </div>
                          </div>
                          <div class="input-field">
                            <input type="text" id="management_fee" name="management_fee" required class="validate" maxlength="20">
                            <label for="management_fee">Management Fee</label>
                          </div>
                        </div>

                        <div class="row">
                          <div class="config-select">
                            <div class="fieldset md-whiteframe-z1">
                              <input type="radio" value="percent_2" id="percent_2" name="config_2" class="trigger" checked>
                              <label for="percent_2"><span>%</span></label>
                              <input type="radio" value="dollar_2" id="dollar_2" name="config_2" class="trigger">
                              <label for="dollar_2" style="margin-left:10px"><span>$</span></label>
                              <span class="switch md-whiteframe-z1"></span>
                            </div>
                          </div>

                          <div class="input-field">
                            <input type="text" id="commission" name="commission" required class="validate" maxlength="20">
                            <label for="commission">Comission</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="config-select">
                            <div class="fieldset md-whiteframe-z1">
                              <input type="radio" value="percent_3" id="percent_3" name="config_3" class="trigger" checked>
                              <label for="percent_3"><span>%</span></label>
                              <input type="radio" value="dollar_3" id="dollar_3" name="config_3" class="trigger">
                              <label for="dollar_3" style="margin-left:10px"><span>$</span></label>
                              <span class="switch md-whiteframe-z1"></span>
                            </div>
                          </div>
                          <div class="input-field">
                            <input type="text" id="bank_fee" name="bank_fee" required class="validate" maxlength="20">
                            <label for="bank_fee">Bank Fee</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field">
                            <input type="text" id="pull_amount" name="pull_amount" required class="validate" maxlength="20">
                            <label for="pull_amount">Pull Amount</label>
                          </div>
                        </div>

                        <div class="row" style="width:100%; margin-bottom:2%">
                          <h4><span id="suggested_pull"></span><span style="color:#007dd1" id="suggested_pull_color"></span></h4>
                          <h4><span id="total_duration"></span><span style="color:#007dd1" id="total_duration_color"></span></h4>
                          <h4><span id="term_length"></span><span style="color:#007dd1" id="term_length_color"></span></h4>
                          <h4><span id="comission_calc"></span><span style="color:#007dd1" id="comission_calc_color"></span></h4>
                          <h4><span id="management_calc"></span><span style="color:#007dd1" id="management_calc_color"></span></h4>
                          <h4><span id="bank_calc"></span><span style="color:#007dd1" id="bank_calc_color"></span></h4>
                          <h4><span id="send_total"></span><span style="color:#007dd1" id="send_total_color"></span></h4>
                          <h4><span id="repayment_amount"></span><span style="color:#007dd1" id="repayment_amount_color"></span></h4>
                        </div>





                      <h1 class="section_headline" style="float:left; width:100%; margin-top:3%">Select Contracts to Send</h1>


                        <div class="contract_container">


                          {% if temp_list|length != 0 %}
                          {% for temp in temp_list %}

                          <div class="contract_container1">
                          <input class="checkbox_contracts" type="checkbox" name="{{ temp[3] }}" value="{{ temp[0] }}" id="{{ temp[3] }}">
                          <label class="for-checkbox_contracts" for="{{ temp[3] }}">
                            <span id="open-btn_view_contract" class="contract_text" data-hover="{{ temp[1] }}">{{ temp[1] }}</span>
                          </label>
                            <div id='{{ temp[2] }}' class="preview_contract"></div>
                        </div>

                          {% endfor %}
                          {% else %}
                          <h1><br>0 Results!</h1>
                          {% endif %}


  </div>








                        <div>
                          {% if advance_amount == '-' %}
                          <button style="margin-top:5%" class="waves-effect waves-light btn submitbtn" value="new_contract" name="contract_method" type="submit">Submit</button>
                          {% else %}
                          <button style="margin-top:5%" class="waves-effect waves-light btn submitbtn" value="update_contract" name="contract_method" type="submit">Submit</button>
                          {% endif %}
                        </div>

                    </div>
                    {% endif %}
                    </form>
                  </div>

                  <a href="{{ url_for('MCA_Prefunded.MCA_Prefunded') }}">
                    <h1 style="font-size:25px; margin-left:10%; padding-top:2%; margin-top:5%; display: inline-block; width:20%">← Prefunded</h1>
                  </a>




                  {% if advance_amount != '-' %}


                  <!-- Modal Background and Modal -->
                  <div id="modal-background">
                    <div id="modal">
                      <span id="close-btn">&times;</span>

                      <form id="email_form" action="{{ url_for('MCA_Edit_Contract.MCA_Edit_Contract', company_id_var=company_id_var) }}" method="post" style="width:80%; margin-top:5%">

                        <h1> Associated Emails </h1>

                        <div id="email_container" class="contract_container" style="margin-top:10%; margin-bottom:10%">
                          {% if email_list|length != 0 %}
                          {% for em in email_list %}

                          <div id="{{ em[0] }}_container" class="contract_container1">
                          <input class="checkbox_emails" type="checkbox" name="{{ em[0] }}" value="{{ em[1] }}" id="{{ em[0] }}">
                          <label class="for-checkbox_emails" for="{{ em[0] }}">
                            <span class="email_text" data-hover="{{ em[1] }}">{{ em[1] }}</span>
                          </label>
                          <div id='{{ em[0] }}' class="remove_email"></div>
                          </div>

                        {% endfor %}
                        {% else %}
                        <h1><br>0 Results!</h1>
                        {% endif %}
                      </div>

                      <div class="row" style="width:40%; margin-left:0; margin-bottom:10%">
                        <div class="input-field">
                          <input type="text" name="new_email" class="validate" id="new_email">
                          <label for="new_email">New Email</label>
                        </div>
                      </div>

                      <p>Minimum recipients needed: <span style="font-size:30px" id="signers_needed">{{ signers_needed }}</span></p>
                      <br>


                        <h3>Sending to: <span id="sending_to" style="border-bottom: #8ccdff 1px solid; padding-bottom:5px; margin-bottom:5%">{{ business_email }}</span></h3>

                        <button id="contract_send_button" style="margin-top:50px" class="waves-effect waves-light btn submitbtn" value="send_contract" name="send_contract" type="submit">Confirm Terms and Send Contract</button>
                      </form>
                    </div>
                  </div>

                  {% endif %}








                  <!-- Modal Background and Modal -->
                  <div id="modal-background_view_contract">
                    <div id="modal_view_contract">
                      <span id="close-btn_view_contract">&times;</span>




                      <embed id='pdf' style="width:100%; height:100%" alt=''/>




                    </div>
                  </div>





















                </div>
              </div>
        </section>
      </div>
      <footer class="background--black">
        <div class="content">
          <div class="footer">
            <div class="footer__company">
              <h5>Active MCA</h5>
              Constantly Working.
            </div>
            <div class="footer__office">
              <h5>Locations</h5>
              New York, NY<br />
              Charleston, SC
            </div>
            <div class="footer__contact">
              <h5>General Contact</h5>
              <a href="mailto:info@activemca.com">info@activemca.com</a>
            </div>
            <div class="footer__careers">
              <h5>Emergency Contact</h5>
              <a href="tel:404-513-3348">404-513-3348</a>
            </div>
            <div class="footer__copyright">
              Copyright © Active MCA 2020
            </div>
            <div class="footer__privacy">
              <a href="terms-and-conditions/index.html">Terms &amp; Conditions</a>
            </div>
            <div class="footer__terms">
            </div>
            <div class="footer__languages">
            </div>
            <button class="footer__up" onclick="window.scrollToTop()">
              <span class="arrow footer__up__arrow"></span>
              <span class="footer__up__text">Started from the bottom — now...</span>
            </button>
          </div>
        </div>
      </footer>
    </div>
  </div>


      <script>



      var IDs = [];
      $(".contract_text").each(function(){

          var el = $(this).text();
          var divHeight = el.length;
          var lineHeight = Math.floor(divHeight / 16.25);

      IDs.push(lineHeight); });

      var maximum = Math.max(...IDs);

      // 40 because it is the line height plus the font size
      var new_height = String(maximum * 40) + 'px'

      $(".checkbox_contracts:checked + label").each(function(){

          $(this).css('min-height', new_height);});

      $(".checkbox_contracts:not(:checked) + label").each(function(){

          $(this).css('min-height', new_height);
      });





      // select the open-btn button
      let openBtn1 = document.getElementById("open-btn_view_contract");
      // select the modal-background
      let modalBackground1 = document.getElementById("modal-background_view_contract");
      // select the close-btn
      let closeBtn1 = document.getElementById("close-btn_view_contract");

      // shows the modal when the user clicks open-btn


      $(".preview_contract").click(function() {

        var image = event.target.id;


        const blob = base64ToBlob( image, 'application/pdf' );
        const url = URL.createObjectURL( blob );

        $("#pdf").attr("src", url);
        modalBackground1.style.display = "block";

        function base64ToBlob( base64, type = "application/octet-stream" ) {
          const binStr = atob( base64 );
          const len = binStr.length;
          const arr = new Uint8Array(len);
          for (let i = 0; i < len; i++) {
            arr[ i ] = binStr.charCodeAt( i );
          }
          return new Blob( [ arr ], { type: type } );
          }


  });

      // hides the modal when the user clicks close-btn
      closeBtn1.addEventListener("click", function () {
          modalBackground1.style.display = "none";
      });

      // hides the modal when the user clicks outside the modal
      window.addEventListener("click", function (event) {
          // check if the event happened on the modal-background
          if (event.target === modalBackground1) {
              // hides the modal
              modalBackground1.style.display = "none";
          }
      });






                  // select the open-btn button
                  let openBtn = document.getElementById("open-btn");
                  // select the modal-background
                  let modalBackground = document.getElementById("modal-background");
                  // select the close-btn
                  let closeBtn = document.getElementById("close-btn");

                  // shows the modal when the user clicks open-btn
                  openBtn.addEventListener("click", function () {
                      modalBackground.style.display = "block";


                        var email_text_lengths = [];
                        $(".email_text").each(function(){

                            var el = $(this).text();
                            var email_len = el.length;
                        email_text_lengths.push(email_len); });

                        var maximum = Math.max(...email_text_lengths);

                        // 16 because it is the font size (16) minus a few for padding
                        var new_width = String(maximum * 14.5) + 'px'

                        $(".checkbox_emails:checked + label").each(function(){

                            $(this).css('width', new_width);});

                        $(".checkbox_emails:not(:checked) + label").each(function(){

                            $(this).css('width', new_width);
                        });

                        $(".remove_email").each(function(){
                            var new_margin = String(maximum * 14.25) + 'px'
                            $(".remove_email").css('left', new_margin);
                          });



                  });

                  // hides the modal when the user clicks close-btn
                  closeBtn.addEventListener("click", function () {
                      modalBackground.style.display = "none";
                  });

                  // hides the modal when the user clicks outside the modal
                  window.addEventListener("click", function (event) {
                      // check if the event happened on the modal-background
                      if (event.target === modalBackground) {
                          // hides the modal
                          modalBackground.style.display = "none";
                      }
                  });




// change email box parameters based on the character counter

  var new_email_count = $('.email_text').length;
  $('#new_email').bind('keyup', 'keydown', function (e) {
    var new_email_len = $("#new_email").val().length;
    var new_email = $("#new_email").val();


    if (new_email_len === 1) {

      $('#email_container').append('<div id="email_num_' + String(new_email_count) + '_container" class="contract_container1"><input class="checkbox_emails" type="checkbox" name="email_num_' + String(new_email_count) + '" value="' + new_email + '" id="email_num_' + String(new_email_count) + '" checked><label id="email_num_' + String(new_email_count) + '_label" class="for-checkbox_emails" for="email_num_' + String(new_email_count) + '"><span class="email_text" data-hover="' + new_email + '">' + new_email + '</span></label><div id="email_num_' + String(new_email_count) + '" class="remove_email"></div></div>');

  } else if (new_email_len > 1) {
    if ($('#email_num_' + String(new_email_count) + '_container').length == 0){

      $('#email_container').append('<div id="email_num_' + String(new_email_count) + '_container" class="contract_container1"><input class="checkbox_emails" type="checkbox" name="email_num_' + String(new_email_count) + '" value="' + new_email + '" id="email_num_' + String(new_email_count) + '" checked><label id="email_num_' + String(new_email_count) + '_label" class="for-checkbox_emails" for="email_num_' + String(new_email_count) + '"><span class="email_text" data-hover="' + new_email + '">' + new_email + '</span></label><div id="email_num_' + String(new_email_count) + '" class="remove_email"></div></div>');

    } else {
    var new_email_count_get = '#email_num_' + String(new_email_count) + '_label'
    var input_name = 'email_num_' + String(new_email_count)
    $(new_email_count_get).html('<span class="email_text" data-hover="' + new_email + '">' + new_email + '</span>');
        $("input[name=" + input_name + "]").attr("value", new_email);


              checked_emails_list = ''
              $('.checkbox_emails:checkbox:checked').each(function () {
               var checked_email = (this.checked ? $(this).val() : "");
               checked_emails_list = checked_emails_list + checked_email + ', '

                });

                // add to html and remove comma from the end
               $('#sending_to').html(checked_emails_list.slice(0, -2));

      }
  }
  else if (new_email_len === 0) {
    var new_email_count_get_container = '#email_num_' + String(new_email_count) + '_container'
    $(new_email_count_get_container).remove();


    checked_emails_list = ''
    $('.checkbox_emails:checkbox:checked').each(function () {
     var checked_email = (this.checked ? $(this).val() : "");
     checked_emails_list = checked_emails_list + checked_email + ', '

      });

      // add to html and remove comma from the end
     $('#sending_to').html(checked_emails_list.slice(0, -2));

  }








    // get the length of the email to update width so so no wrap around  and consistent box height
    var email_text_lengths = [];
    $(".email_text").each(function(){

        var el = $(this).text();
        var email_len = el.length;
    email_text_lengths.push(email_len); });



    var maximum = Math.max(...email_text_lengths);

    // 16 because it is the font size (16) minus a few for padding
    var new_width = String(maximum * 14.5) + 'px'

    //update email widths
    $(".checkbox_emails:checked + label").each(function(){

        $(this).css('width', new_width);});

    $(".checkbox_emails:not(:checked) + label").each(function(){

        $(this).css('width', new_width);
    });


    // remove emails
    $(".remove_email").each(function(){
        var new_margin = String(maximum * 14.25) + 'px'
        $(".remove_email").css('left', new_margin);
      });


      $(".remove_email").click(function(event) {
        event.stopPropagation();
        event.stopImmediatePropagation();
        var selected_id = '#' + event.target.id + '_container'
        $(selected_id).remove();

        checked_emails_list = ''
        $('.checkbox_emails:checkbox:checked').each(function () {
         var checked_email = (this.checked ? $(this).val() : "");
         checked_emails_list = checked_emails_list + checked_email + ', '

          });



          // Add to send to list
          // add to html and remove comma from the end
         $('#sending_to').html(checked_emails_list.slice(0, -2));

         //change signers_needed number color
         var number_of_emails = parseInt($('.checkbox_emails:checkbox:checked').length);
         var number_of_signers = parseInt($('#signers_needed').text())
         if (number_of_emails >= number_of_signers) {
           $('#signers_needed').css('color', 'green');
         } else{
           $('#signers_needed').css('color', 'red');
         };


        });

    });




        // check if email is valid -- returns true if valid
          function validateEmail($email) {
            var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
            return emailReg.test( $email );
          }


          // update the minimum email number color based on amount of valid emails
          function minimum_num_color_update() {

            var vaild_counter = 0
            $( '.checkbox_emails:checkbox:checked' ).each(function() {
              var validation_response = validateEmail($(this).val());
              if (validation_response == true) {
                vaild_counter += 1
              } else{
                console.log('not valid email')
              };
            });


            //var number_of_emails = parseInt($('.checkbox_emails:checkbox:checked').length);
            var number_of_signers = parseInt($('#signers_needed').text())
            if (vaild_counter >= number_of_signers) {
              $('#signers_needed').css('color', 'green');
            } else{
              $('#signers_needed').css('color', 'red');
            };

          };



          function on_enter_or_blur() {
            var entered_email = $('#new_email').val();
            var validation_response = validateEmail(entered_email);
            if( !validation_response) {

              $('#email_num_' + String(new_email_count) + '_label').css({'border': '2px solid red'});
              $("input[name='email_num_" + String(new_email_count) + "']").attr('checked', false);


              // on email box/button click
              $( document ).on( "click", ".checkbox_emails", function() {
                checked_emails_list = ''
                $('.checkbox_emails:checkbox:checked').each(function () {
                 var checked_email = (this.checked ? $(this).val() : "");
                 checked_emails_list = checked_emails_list + checked_email + ', '
                  });

                  minimum_num_color_update();

                  // add to html and remove comma from the end
                 $('#sending_to').html(checked_emails_list.slice(0, -2));

              });


            }

            minimum_num_color_update();

            new_email_count += 1;
            $('#new_email').val('');
            e.preventDefault();



          };



    // update and add email to list when return/enter button is hit
    $("#new_email").keydown(function (e) {

      //prevent form submit
      $("#contract_send_button").submit(function(e){
        e.preventDefault();
      });


      // key 13 == return/enter
      if (e.keyCode == 13) {
        e.preventDefault();
         on_enter_or_blur()
      }

    });


    // if email input blurred
  $('#new_email').on('blur', function() {

      on_enter_or_blur();


});




      $("input[name='email_num_0']").attr('checked', 'checked');




      // update send to list on check or uncheck
      $( document ).on( "click", ".checkbox_emails", function() {
        checked_emails_list = ''
        $('.checkbox_emails:checkbox:checked').each(function () {
         var checked_email = (this.checked ? $(this).val() : "");
         checked_emails_list = checked_emails_list + checked_email + ', '
          });
          // add to html and remove comma from the end
         $('#sending_to').html(checked_emails_list.slice(0, -2));


         minimum_num_color_update();

      });



      //prevent form submit if not enough valid Emails
      $("#contract_send_button").click(function(e) {

        // if not from clicking enter/return
        if (e.keyCode != 13) {

        var vaild_counter = 0
        $( '.checkbox_emails:checkbox:checked' ).each(function() {
          var validation_response = validateEmail($(this).val());
          if (validation_response == true) {
            vaild_counter += 1
          } else{
            console.log('not valid email')
          };
        });


        //var number_of_emails = parseInt($('.checkbox_emails:checkbox:checked').length);
        var number_of_signers = parseInt($('#signers_needed').text())
        if (vaild_counter >= number_of_signers) {
          console.log('valid email number')
        } else{
          e.preventDefault();
          alert('Minimum Amount of Valid Emails Not Met')
        };

      }

        });




      </script>

  <script>
            var offsetHeight = (document.getElementById('form_height').offsetHeight) + 500;
            $('#dynamic_page_height').css('height', offsetHeight + 'px');

            if (window.history.replaceState) {
                window.history.replaceState(null, null, window.location.href);
            }

            var term_len_days_master = 0

            $(document).on("change", "#start_date", function () {

                var factor_rate = $("#factor_rate").val();
                var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                repayment_amount = (advance_amount * factor_rate).toFixed(2);


                var start_date = new Date($(this).val());
                var end_date = new Date($("#end_date").val());
                var pull_schedule = $("#ACH_pull_schedule").val();
                diffDays = Math.ceil(Math.abs(start_date - end_date) / (1000 * 60 * 60 * 24));
                total_duration = diffDays;

                if (pull_schedule == "weekdays") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() !== 6 && date.isoWeekday() !== 7) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_mon") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 1) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_tues") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 2) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_wed") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 3) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_thurs") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 4) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_fri") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 5) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else {
                    term_len_days = total_duration
                };

                term_len_days_master = term_len_days;
                suggested_pull_amount = (repayment_amount / term_len_days_master).toFixed(2);

                $("#start_date").each(function () {
                    if (total_duration == total_duration) { // check to make sure not NaN
                        $('#total_duration').text('Total Duration = ');
                        $('#total_duration_color').text(total_duration + ' days');
                        if (pull_schedule != null) {
                            $('#term_length').text('Term Legth = ');
                            $('#term_length_color').text(term_len_days_master + ' days / pulls');
                        };
                    };
                    if (factor_rate != 0) {
                        $('#repayment_amount').text('Expected Repayment Amount = ');
                        $('#repayment_amount_color').text('$' + repayment_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        if (term_len_days_master != 0) {
                            $('#suggested_pull').text('Suggested Pull Amount = ');
                            $('#suggested_pull_color').text('$' + suggested_pull_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        };
                    };
                });
            });



            $(document).on("change", "#end_date", function () {
                var factor_rate = $("#factor_rate").val();
                var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                repayment_amount = (advance_amount * factor_rate).toFixed(2);

                var start_date = new Date($("#start_date").val());
                var end_date = new Date($(this).val());
                var pull_schedule = $("#ACH_pull_schedule").val();
                diffDays = Math.ceil(Math.abs(start_date - end_date) / (1000 * 60 * 60 * 24));
                total_duration = diffDays;


                if (pull_schedule == "weekdays") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() !== 6 && date.isoWeekday() !== 7) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_mon") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 1) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_tues") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 2) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_wed") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 3) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_thurs") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 4) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_fri") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 5) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else {
                    term_len_days = total_duration
                };


                term_len_days_master = term_len_days;


                suggested_pull_amount = (repayment_amount / term_len_days_master).toFixed(2);


                $("#end_date").each(function () {
                    if (total_duration == total_duration) { // check to make sure not NaN
                        $('#total_duration').text('Total Duration = ');
                        $('#total_duration_color').text(total_duration + ' days');
                        if (pull_schedule != null) {
                            $('#term_length').text('Term Legth = ');
                            $('#term_length_color').text(term_len_days_master + ' days / pulls');
                        };
                    };
                    if (factor_rate != 0) {
                        $('#repayment_amount').text('Expected Repayment Amount = ');
                        $('#repayment_amount_color').text('$' + repayment_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        if (term_len_days_master != 0) {
                            $('#suggested_pull').text('Suggested Pull Amount = ');
                            $('#suggested_pull_color').text('$' + suggested_pull_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        };
                    };
                });
            });

            $(document).on("change", "#ACH_pull_schedule", function () {
                var factor_rate = $("#factor_rate").val();
                var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                repayment_amount = (advance_amount * factor_rate).toFixed(2);;
                var start_date = new Date($("#start_date").val());
                var end_date = new Date($("#end_date").val());
                var pull_schedule = $(this).val();
                diffDays = Math.ceil(Math.abs(start_date - end_date) / (1000 * 60 * 60 * 24));
                total_duration = diffDays;

                if (pull_schedule == "weekdays") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() !== 6 && date.isoWeekday() !== 7) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_mon") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 1) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_tues") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 2) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_wed") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 3) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_thurs") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 4) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else if (pull_schedule == "weekly_fri") {
                    term_len_days = 0
                    date = moment(start_date);
                    while (diffDays > 0) {
                        date = date.add(1, 'days');
                        // decrease "days" only if it's a weekday.
                        if (date.isoWeekday() === 5) {
                            term_len_days += 1;
                        }
                        diffDays -= 1;
                    }
                } else {
                    term_len_days = total_duration
                };

                term_len_days_master = term_len_days;

                suggested_pull_amount = (repayment_amount / term_len_days_master).toFixed(2);

                $("#ACH_pull_schedule").each(function () {
                    if (total_duration == total_duration) { // check to make sure not NaN
                        $('#total_duration').text('Total Duration = ');
                        $('#total_duration_color').text(total_duration + ' days');
                        $('#term_length').text('Term Legth = ');
                        $('#term_length_color').text(term_len_days_master + ' days / pulls');
                    };
                    if (factor_rate != 0) {
                        $('#repayment_amount').text('Expected Repayment Amount = ');
                        $('#repayment_amount_color').text('$' + repayment_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        if (term_len_days_master != 0) {
                            $('#suggested_pull').text('Suggested Pull Amount = ');
                            $('#suggested_pull_color').text('$' + suggested_pull_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        };
                    };
                });
            });



            $(document).on("change", "#factor_rate", function () {
                var factor_rate = $(this).val();
                var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                repayment_amount = (advance_amount * factor_rate).toFixed(2);
                suggested_pull_amount = (repayment_amount / term_len_days_master).toFixed(2);
                $("#factor_rate").each(function () {
                    $('#repayment_amount').text('Expected Repayment Amount = ');
                    $('#repayment_amount_color').text('$' + repayment_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    if (term_len_days_master != 0) {
                        $('#suggested_pull').text('Suggested Pull Amount = ');
                        $('#suggested_pull_color').text('$' + suggested_pull_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    };
                });
            });



            $(document).on("change", "#advance_amount", function () {
                var advance_amount = $(this).val().replace(/\D/g, '');
                var factor_rate = $("#factor_rate").val();
                repayment_amount = (advance_amount * factor_rate).toFixed(2);
                suggested_pull_amount = (repayment_amount / term_len_days_master).toFixed(2);
                var management_percent = $('#management_fee').val().replace(/\D/g, '');
                management_amount = advance_amount * (management_percent / 100);
                var comission_percent = $("#commission").val().replace(/\D/g, '');
                comission_amount = advance_amount * (comission_percent / 100);
                var bank_percent = $("#bank_fee").val().replace(/\D/g, '');
                bank_amount = advance_amount * (bank_percent / 100);
                $("#advance_amount").each(function () {
                    if (factor_rate != 0) {
                        $('#repayment_amount').text('Expected Repayment Amount = ');
                        $('#repayment_amount_color').text('$' + repayment_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        if (term_len_days_master != 0) {
                            $('#suggested_pull').text('Suggested Pull Amount = ');
                            $('#suggested_pull_color').text('$' + suggested_pull_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                        };
                    };
                    if ($('#dollar_1').is(':checked')) {
                        $('#management_calc').text('Management Fee = ');
                        $('#management_calc_color').text('$' + (management_percent).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    } else {
                        $('#management_calc').text('Management Fee = ');
                        $('#management_calc_color').text('$' + (management_amount).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    };
                    if ($('#dollar_2').is(':checked')) {
                        $('#comission_calc').text('Comission = ');
                        $('#comission_calc_color').text('$' + (comission_percent).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    } else {
                        $('#comission_calc').text('Comission = ');
                        $('#comission_calc_color').text('$' + (comission_amount).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    };
                    if ($('#dollar_2').is(':checked')) {
                        $('#comission_calc').text('Bank Fee = ');
                        $('#comission_calc_color').text('$' + (bank_percent).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    } else {
                        $('#bank_calc').text('Bank Fee = ');
                        $('#bank_calc_color').text('$' + (bank_amount).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    };
                });
            });






            $(document).on("change", "#commission", function () {
                var comission_percent = $(this).val().replace(/\D/g, '');
                var management_percent = $("#management_fee").val().replace(/\D/g, '');
                var bank_amount = $("#bank_fee").val().replace(/\D/g, '');
                var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                comission_amount = advance_amount * (comission_percent / 100);
                management_amount = advance_amount * (management_percent / 100);
                send_total = ((advance_amount - bank_amount) - (comission_amount + management_amount)).toFixed(2);
                $("#commission").each(function () {
                    $('#comission_calc').text('Comission = ');
                    $('#comission_calc_color').text('$' + (comission_amount).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#send_total').text('Total Amount Being Funded = ');
                    $('#send_total_color').text('$' + send_total.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                });
            });


            $(document).on("change", "#management_fee", function () {
                var comission_percent = $("#commission").val().replace(/\D/g, '');
                var management_percent = $(this).val().replace(/\D/g, '');
                var bank_amount = $("#bank_fee").val().replace(/\D/g, '');
                var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                comission_amount = advance_amount * (comission_percent / 100);
                management_amount = advance_amount * (management_percent / 100);
                send_total = ((advance_amount - bank_amount) - (comission_amount + management_amount)).toFixed(2);
                $("#management_fee").each(function () {
                    $('#management_calc').text('Management Fee = ');
                    $('#management_calc_color').text('$' + (management_amount).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                    $('#send_total').text('Total Amount Being Funded = ');
                    $('#send_total_color').text('$' + send_total.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                });
            });


            $(document).on("change", "#bank_fee", function () {
                var comission_percent = $("#commission").val().replace(/\D/g, '');
                var management_percent = $("#management_fee").val().replace(/\D/g, '');
                var bank_amount = $(this).val().replace(/\D/g, '');
                var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                comission_amount = advance_amount * (comission_percent / 100);
                management_amount = advance_amount * (management_percent / 100);
                send_total = ((advance_amount - bank_amount) - (comission_amount + management_amount)).toFixed(2);
                $("#bank_fee").each(function () {
                    $('#send_total').text('Total Amount Being Funded = ');
                    $('#send_total_color').text('$' + send_total.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                });
            });



            $('#percent_1').click(function () {
                if ($('#percent_1').is(':checked')) {
                    var management_percent = $("#management_fee").val().replace(/\D/g, '');
                    var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                    management_amount = advance_amount * (management_percent / 100);
                    $("#management_fee").val(management_percent + '%');

                    $('#management_calc').text('Management Fee = ');
                    $('#management_calc_color').text('$' + (management_amount).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));


                }
            });

            $('#dollar_1').click(function () {
                if ($('#dollar_1').is(':checked')) {
                    var management_amount = $("#management_fee").val().replace(/\D/g, '');
                    $("#management_fee").val('$' + management_amount);

                    $('#management_calc').text('Management Fee = ');
                    $('#management_calc_color').text('$' + management_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));


                }
            });



            $('#percent_2').click(function () {
                if ($('#percent_2').is(':checked')) {
                    var comission_percent = $("#commission").val().replace(/\D/g, '');
                    var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                    comission_amount = advance_amount * (comission_percent / 100);
                    $("#commission").val(comission_percent + '%');
                    $('#comission_calc').text('Comission = ');
                    $('#comission_calc_color').text('$' + (comission_amount).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                }
            });

            $('#dollar_2').click(function () {
                if ($('#dollar_2').is(':checked')) {
                    var comission_amount = $("#commission").val().replace(/\D/g, '');
                    $("#commission").val('$' + comission_amount);

                    $('#comission_calc').text('Management Fee = ');
                    $('#comission_calc_color').text('$' + comission_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));


                }
            });

            $('#percent_3').click(function () {
                if ($('#percent_3').is(':checked')) {
                    var bank_percent = $("#bank_fee").val().replace(/\D/g, '');
                    var advance_amount = $("#advance_amount").val().replace(/\D/g, '');
                    bank_amount = advance_amount * (bank_percent / 100);
                    $("#bank_fee").val(bank_percent + '%');
                    $('#bank_calc').text('Bank Fee = ');
                    $('#bank_calc_color').text('$' + (bank_amount).toFixed(2).toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
                }
            });

            $('#dollar_3').click(function () {
                if ($('#dollar_3').is(':checked')) {
                    var bank_amount = $("#bank_fee").val().replace(/\D/g, '');
                    $("#bank_fee").val('$' + bank_amount);

                    $('#bank_calc').text('Bank Fee = ');
                    $('#bank_calc_color').text('$' + bank_amount.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));


                }
            });



            $('input[name="management_fee"]').change(function () {
                $(this).val(function (index, old) {
                    return old.replace(/[^0-9]/g, '') + '%';
                });
            });

            $('input[name="commission"]').change(function () {
                $(this).val(function (index, old) {
                    return old.replace(/[^0-9]/g, '') + '%';
                });
            });

            var $jqBankfee = jQuery('input[name="bank_fee"]');

            //Bind keyup/keydown to the input
            $jqBankfee.bind('keyup', 'keydown', function (e) {

                //To accomdate for backspacing, we detect which key was pressed - if backspace, do nothing:
                if (e.which !== 8) {
                    var numChars = $jqBankfee.val().length;
                    if (numChars === 1) {
                        var thisVal = $jqBankfee.val();
                        $jqBankfee.val("$" + thisVal);
                    }
                }
                var x = $jqBankfee.val();
                $jqBankfee.val(x.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            });


            var $jqAdvanceAmount = jQuery('input[name="advance_amount"]');

            //Bind keyup/keydown to the input
            $jqAdvanceAmount.bind('keyup', 'keydown', function (e) {

                //To accomdate for backspacing, we detect which key was pressed - if backspace, do nothing:
                if (e.which !== 8) {
                    var numChars = $jqAdvanceAmount.val().length;
                    if (numChars === 1) {
                        var thisVal = $jqAdvanceAmount.val();
                        $jqAdvanceAmount.val("$" + thisVal);
                    }
                }
                var x = $jqAdvanceAmount.val();
                $jqAdvanceAmount.val(x.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            });



            var $jqPullAmount = jQuery('input[name="pull_amount"]');

            //Bind keyup/keydown to the input
            $jqPullAmount.bind('keyup', 'keydown', function (e) {

                //To accomdate for backspacing, we detect which key was pressed - if backspace, do nothing:
                if (e.which !== 8) {
                    var numChars = $jqPullAmount.val().length;
                    if (numChars === 1) {
                        var thisVal = $jqPullAmount.val();
                        $jqPullAmount.val("$" + thisVal);
                    }
                }
                var x = $jqPullAmount.val();
                $jqPullAmount.val(x.toString().replace(/,/g, "").replace(/\B(?=(\d{3})+(?!\d))/g, ","));
            });




            // Numeric only control handler
            jQuery.fn.ForceNumericOnly =
                function () {
                    return this.each(function () {
                        $(this).keydown(function (e) {
                            var key = e.charCode || e.keyCode || 0;
                            // allow backspace, tab, delete, enter, arrows, numbers and keypad numbers ONLY
                            // home, end, period, and numpad decimal
                            return (
                                key == 8 ||
                                key == 9 ||
                                key == 13 ||
                                key == 46 ||
                                key == 110 ||
                                key == 190 ||
                                (key >= 35 && key <= 40) ||
                                (key >= 48 && key <= 57) ||
                                (key >= 96 && key <= 105));
                        });
                    });
                };


            $("#advance_amount").ForceNumericOnly();
            $("#pull_amount").ForceNumericOnly();
            $("#split_percent").ForceNumericOnly();
            $("#factor_rate").ForceNumericOnly();
            $("#fico_score").ForceNumericOnly();
            $("#management_fee").ForceNumericOnly();
            $("#commission").ForceNumericOnly();
            $("#bank_fee").ForceNumericOnly();




            // show edit contrcat form

            $(document).ready(function () {
                $(".edit_button").click(function () {
                    document.getElementById('edit_contract').style.display = "inline";

                    var offsetHeight = (document.getElementById('form_height').offsetHeight) + 600;
                    $('#dynamic_page_height').css('height', offsetHeight + 'px');

                });
            });


    </script>




    <style>
      #edit_contract_1 {
        display: inline
      }

      #edit_contract {
        display: none
      }

      .config-select {
        text-align: center;
        z-index: 10;
        position: absolute;
        margin-left: 90%;
      }

      .config-select .fieldset {
        display: inline-block;
        position: relative;
        padding-top: 1px;
        padding-bottom: 6px;
        border-radius: 0.5em;
        border: 1px solid #666666;
        */
      }

      .config-select input[type="radio"] {
        position: absolute;
        opacity: 0;
      }

      .config-select label {
        position: relative;
        z-index: 1;
        display: inline-block;
        float: left;
        width: 15px;
        height: 10px;
        line-height: 15px;
        cursor: pointer;
        font-size: 10px;
        color: rgb(158, 158, 158);
        transition: all 500ms ease-in-out;
      }

      .config-select .switch {
        /* floating background */
        position: absolute;
        left: 1px;
        height: 15px;
        width: 15px;
        background-color: #106cc8;
        border-radius: 0.5em;
        -webkit-transition: -webkit-transform 0.5s;
        -moz-transition: -moz-transform 0.5s;
        transition: transform 0.5s;
      }

      .config-select input[type="radio"]:checked+label {
        color: #eee;
        -webkit-transition-delay: 180ms;
        -moz-transition-delay: 180ms;
        transition-delay: 180ms;
      }

      .config-select input[type="radio"]:nth-of-type(odd):checked+label~.switch,
      .config-select input[type="radio"]:nth-of-type(odd):checked+label:nth-of-type(odd)~.switch {
        -webkit-transform: translateX(0px);
        -moz-transform: translateX(0px);
        -ms-transform: translateX(0px);
        -o-transform: translateX(0px);
        transform: translateX(0px);
      }

      .config-select input[type="radio"]:nth-of-type(even):checked+label~.switch,
      .config-select input[type="radio"]:nth-of-type(even):checked+label:nth-of-type(even)~.switch {
        -webkit-transform: translateX(22.5px);
        -moz-transform: translateX(22.5px);
        -ms-transform: translateX(22.5px);
        -o-transform: translateX(22.5px);
        transform: translateX(22.5px);
      }

      /* common styles end */
      /* modal part */
      #modal-background {
        display: none;
        background-color: rgba(0, 0, 0, 0.6);
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
        animation-name: animatebackground;
        animation-duration: 0.6s;
      }

      #modal {
        background-color: #fff;
        position: absolute;
        top: 10%;
        left: 10%;
        width: 80%;
        height: 80%;
        min-height: 450px;
        padding: 10px 20px;
        border-radius: 5px;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
        font-size: 1.5rem;
        animation-name: animatemodal;
        animation-duration: 0.8s;
        z-index:-10
      }


      #modal-background_view_contract {
        display: none;
        background-color: rgba(0, 0, 0, 0.6);
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
        animation-name: animatebackground;
        animation-duration: 0.6s;
      }

      #modal_view_contract {
        background-color: #fff;
        position: absolute;
        top: 10%;
        left: 10%;
        width: 80%;
        height: 80%;
        min-height: 450px;
        padding: 10px 20px;
        border-radius: 5px;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
        font-size: 1.5rem;
        animation-name: animatemodal;
        animation-duration: 0.8s;
      }



      .merch_button {
        padding: 20px;
        font-size: 2vw;
        border: solid 1px #8acaff;
        margin-left: 70%;
        margin-bottom: 0%;
        margin-top: 5%;
        color: #202020;
        z-index: 1000;
      }

      .merch_button:hover {
        border: solid 1px #5cb6ff;
        background-color: #f0fbff;
      }

      .edit_button {
        padding: 20px;
        font-size: 2vw;
        border: solid 1px #8acaff;
        margin-left: 0%;
        margin-bottom: 10%;
        margin-top: 5%;
        color: #1575bf;
        z-index: 1000;
        cursor: pointer;
        width: 20%;
        text-align: center
      }

      .edit_button:hover {
        border: solid 1px #5cb6ff;
        background-color: #f0fbff;
      }

      #close-btn {
        align-self: flex-end;
      }

      #close-btn:hover {
        cursor: pointer;
        color: #4abdff;
      }

      #close-btn_view_contract {
        align-self: flex-end;
      }

      #close-btn_view_contract:hover {
        cursor: pointer;
        color: #4abdff;
      }

      /* modal part end */
      /* animation part */
      @keyframes animatemodal {
        0% {
          transform: scale(0);
        }

        100% {
          transform: scale(1);
        }
      }

      /* animation part end */
      @keyframes animatebackground {
        0% {
          opacity: 0;
        }

        100% {
          opacity: 1;
        }
      }

      .section_headline {
        margin-bottom: 3%;
      }

      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      select {
        // A reset of styles, including removing the default dropdown arrow
        appearance: none;
        // Additional resets for further consistency
        background-color: transparent;
        border: none;
        padding: 0 1em 0 0;
        margin: 0;
        width: 100%;
        font-family: inherit;
        font-size: inherit;
        cursor: inherit;
        line-height: inherit;
        outline: none;
        display: none;
        -webkit-appearance: none;
        -moz-appearance: none;
      }

      select::-ms-expand {
        display: none;
      }

      .select {
        width: 100%;
        border-bottom: 1px solid #9e9e9e;
        color: #000;
        padding-bottom: 0px;
        font-size: 1rem;
        cursor: pointer;
        font-weight: 300;
        display: grid;
        grid-template-areas: "select";
        align-items: center;
        height: 3rem;
        margin: 0 0 20px 0;
        box-sizing: content-box;
      }

      .select::after {
        content: "";
        width: 0.8em;
        height: 0.5em;
        background-color: #9e9e9e;
        clip-path: polygon(100% 0%, 0 0%, 50% 100%);
      }

      select,
      .select:after {
        grid-area: select;
        justify-self: end;
      }

      .flash_error {
        color: red;
      }

      .flash_success {
        color: green;
      }

      .under_hover {
        font-weight: bold;
        padding-bottom: 2px;
      }

      .grid {
        display: grid;
        width: 85%;
        grid-gap: 2%;
        grid-template-columns: repeat(auto-fit, minmax(22%, 1fr));
        align-items: start;
        margin-left: 7.5%;
      }

      .grid_1 {
        display: grid;
        width: 100%;
        grid-gap: 2%;
        grid-template-columns: repeat(auto-fit, minmax(20%, 1fr));
        align-items: start;
      }

      .snap_grid {
        display: grid;
        width: 100%;
        grid-gap: 5%;
        grid-template-columns: 25% 25% 25% 25%;
        align-items: start;
      }

      .snap_grid_1 {
        display: grid;
        width: 100%;
        grid-gap: 2%;
        grid-template-columns: 65% 35%;
        align-items: start;
      }

      @media (max-width: 60em) {
        .grid {
          grid-gap: 3rem;
        }
      }

      .grid__item {
        background-color: #fff;
        border-radius: 0.4rem;
        overflow: hidden;
        box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.03);
        cursor: pointer;
        transition: 0.2s;
        height: 25vw;
      }

      .grid__item:hover {
        transform: translateY(-0.5%);
        box-shadow: 0 1.5rem 3rem rgba(0, 0, 0, 0.1);
      }

      .card__content {
        padding: 8% 8%;
      }

      .card__header {
        font-size: 1.5vw;
        font-weight: 500;
        color: #0d0d0d;
        margin-bottom: 1.5rem;
        border-bottom: #8ccdff 1px solid;
        width: 50%;
        padding-bottom: 2% !important;
        margin-top: -5%;
      }

      .card__header_1 {
        font-size: 1.35vw;
        font-weight: 500;
        color: #0d0d0d;
        margin-bottom: 1.5rem;
        border-bottom: #8ccdff 1px solid;
        width: 50%;
        padding-bottom: 2% !important;
      }

      .card__text {
        font-size: 1vw;
        letter-spacing: 0.1rem;
        line-height: 1.7;
        color: #3d3d3d;
        margin-bottom: 2.5rem;
      }

      .card__text_1 {
        font-size: 1vw;
        letter-spacing: 0.1rem;
        line-height: 1;
        color: #3d3d3d;
        margin-bottom: 2.5rem;
      }



  :root {
  	--white: #ffffff;
  	--light: #f0eff3;
  	--black: #000000;
  	--dark-blue: #1f2029;
  	--dark-light: #ffffff;
  	--red: #104578;
  	--yellow: #009ddc;
  	--grey: #c4e5f2;

  }



  .section {
      position: relative;
  	width: 100%;
  	display: block;
  	text-align: center;
  	margin: 0 auto;
  }
  .over-hide {
      overflow: hidden;
  }
  .z-bigger {
      z-index: 100 !important;
  }


  .background-color{
  	position: fixed;
  	top: 0;
  	left: 0;
  	width: 100%;
  	height: 100%;
  	background-color: var(--dark-blue);
  	z-index: 1;
  	-webkit-transition: all 300ms linear;
  	transition: all 300ms linear;
  }
  .checkbox:checked ~ .background-color{
  	background-color: var(--white);
  }


  [type="checkbox"]:checked,
  [type="checkbox"]:not(:checked),
  [type="radio"]:checked,
  [type="radio"]:not(:checked){
  	position: absolute;
  	left: -9999px;
  	width: 0;
  	height: 0;
  	visibility: hidden;
  }
  .checkbox:checked + label,
  .checkbox:not(:checked) + label{
  	position: relative;
  	width: 70px;
  	display: inline-block;
  	padding: 0;
  	margin: 0 auto;
  	text-align: center;
  	margin: 17px 0;
  	margin-top: 100px;
  	height: 6px;
  	border-radius: 4px;
  	background-image: linear-gradient(138deg, #104578, #009ddc);
  	z-index: 100 !important;
  }
  .checkbox:checked + label:before,
  .checkbox:not(:checked) + label:before {
  	position: absolute;
  	font-family: 'unicons';
  	cursor: pointer;
  	top: -17px;
  	z-index: 2;
  	font-size: 20px;
  	line-height: 40px;
  	text-align: center;
  	width: 40px;
  	height: 40px;
  	border-radius: 50%;
  	-webkit-transition: all 300ms linear;
  	transition: all 300ms linear;
  }
  .checkbox:not(:checked) + label:before {
  	content: '\eac1';
  	left: 0;
  	color: var(--grey);
  	background-color: var(--dark-light);
  	box-shadow: 0 4px 4px rgba(0,0,0,0.15), 0 0 0 1px rgba(26,53,71,0.07);
  }
  .checkbox:checked + label:before {
  	content: '\eb8f';
  	left: 30px;
  	color: var(--yellow);
  	background-color: var(--dark-blue);
  	box-shadow: 0 4px 4px rgba(26,53,71,0.25), 0 0 0 1px rgba(26,53,71,0.07);
  }

  .checkbox:checked ~ .section .container .row .col-12 p{
  	color: var(--dark-blue);
  }


  .checkbox_contracts:checked + label,
  .checkbox_contracts:not(:checked) + label{
  	position: relative;
  	display: inline-flex;
  	padding: 0;
  	padding-top: 20px;
  	padding-bottom: 20px;
  	width: 270px;
    min-height:75px;
  	font-size: 16px;
  	line-height: 24px;
  	font-weight: 700;
  	letter-spacing: 1px;
  	margin-left: 10px;
  	margin-right: 10px;
  	margin-bottom: 10px;
    margin-top:10px;
  	border-radius: 4px;
  	overflow: hidden;
  	cursor: pointer;
  	text-transform: uppercase;
  	-webkit-transition: all 300ms linear;
  	transition: all 300ms linear;
    color: #009ddc;
    vertical-align: middle !important;
      text-align: center !important;
      align-items: center;
      align-content: center;
      justify-content: center;
  }
  .checkbox_contracts:not(:checked) + label{
  	background-color: var(--dark-light);
  	box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);
  }
  .checkbox_contracts:checked + label{
  	background-color: transparent;
  	box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
  }
  .checkbox_contracts:not(:checked) + label:hover{
  	box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
  }
  .checkbox_contracts:checked + label::before,
  .checkbox_contracts:not(:checked) + label::before{
  	position: absolute;
  	content: '';
  	top: 0;
  	left: 0;
  	width: 100%;
  	height: 100%;
  	border-radius: 4px;
  	background-image: linear-gradient(138deg, #104578, #009ddc);
  	z-index: -1;
  }
  .checkbox_contracts:checked + label span,
  .checkbox_contracts:not(:checked) + label span{
  	position: relative;
  	display: block;
  }
  .checkbox_contracts:checked + label span::before,
  .checkbox_contracts:not(:checked) + label span::before{
  	position: absolute;
  	content: attr(data-hover);
  	top: 0%;
  	left: 0;
  	width: 100%;
  	overflow: hidden;
  	color: #fff;
  	-webkit-transition: max-height 0.3s;
  	-moz-transition: max-height 0.3s;
  	transition: max-height 0.3s;
  }
  .checkbox_contracts:not(:checked) + label span::before{
  	max-height: 0;
  }
  .checkbox_contracts:checked + label span::before{
  	max-height: 100%;
  }

  .checkbox:checked ~ .section .container .row .contract_container .checkbox_contracts:not(:checked) + label{
  	background-color: var(--light);
  	color: #fff;
  	box-shadow: 0 1x 4px 0 rgba(0, 0, 0, 0.05);
  }















    .checkbox_emails:checked + label,
    .checkbox_emails:not(:checked) + label{
    	position: relative;
    	display: inline-flex;
    	padding: 0;
    	padding-top: 20px;
    	padding-bottom: 20px;
    	width: 270px;
      min-height:75px;
    	font-size: 16px;
    	line-height: 24px;
    	font-weight: 700;
    	letter-spacing: 1px;
    	margin-left: 10px;
    	margin-right: 10px;
    	margin-bottom: 10px;
      margin-top:10px;
    	border-radius: 4px;
    	overflow: hidden;
    	cursor: pointer;
    	text-transform: uppercase;
    	-webkit-transition: all 300ms linear;
    	transition: all 300ms linear;
      color: #009ddc;
      vertical-align: middle !important;
        text-align: center !important;
        align-items: center;
        align-content: center;
        justify-content: center;
    }
    .checkbox_emails:not(:checked) + label{
    	background-color: var(--dark-light);
    	box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);
    }
    .checkbox_emails:checked + label{
    	background-color: transparent;
    	box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    }
    .checkbox_emails:not(:checked) + label:hover{
    	box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    }
    .checkbox_emails:checked + label::before,
    .checkbox_emails:not(:checked) + label::before{
    	position: absolute;
    	content: '';
    	top: 0;
    	left: 0;
    	width: 100%;
    	height: 100%;
    	border-radius: 4px;
    	background-image: linear-gradient(138deg, #104578, #009ddc);
    	z-index: -1;
    }
    .checkbox_emails:checked + label span,
    .checkbox_emails:not(:checked) + label span{
    	position: relative;
    	display: block;
    }
    .checkbox_emails:checked + label span::before,
    .checkbox_emails:not(:checked) + label span::before{
    	position: absolute;
    	content: attr(data-hover);
    	top: 0%;
    	left: 0;
    	width: 100%;
    	overflow: hidden;
    	color: #fff;
    	-webkit-transition: max-height 0.3s;
    	-moz-transition: max-height 0.3s;
    	transition: max-height 0.3s;
    }
    .checkbox_emails:not(:checked) + label span::before{
    	max-height: 0;
    }
    .checkbox_emails:checked + label span::before{
    	max-height: 100%;
    }

    .checkbox:checked ~ .section .container .row .contract_container .checkbox_emails:not(:checked) + label{
    	background-color: var(--light);
    	color: #fff;
    	box-shadow: 0 1x 4px 0 rgba(0, 0, 0, 0.05);
    }





  .preview_contract{
    width:30px;
    height:30px;
    background-color: #fff;
    border-radius: 100%;
    position:relative;
    z-index: 30;
    left:260px;
    margin-top:-30px;
    border: #009ddc 4px solid;
    opacity: 0;
    z-index:100
  }

  .preview_contract:hover{
    opacity: 1;
    cursor: pointer;
  }

  .contract_container1{
  display: inline-block;
  }

  .remove_email{
    width:27.5px;
    height:27.5px;
    background-color: #fff;
    border-radius: 100%;
    position:relative;
    left:260px;
    margin-top:-28px;
    border: #009ddc 3px solid;
    opacity: 0;
    z-index:100;
    color:#009ddc;
  }

  .remove_email:before{
    content: "✕";
    margin-left:1.75px;
}

  .remove_email:hover{
    opacity: 1;
    cursor: pointer;
  }


  </style>

  <script defer="defer" src="../../../../static/js/jquery-3.5.1.min9d52.js?ver=3.5.1"></script>
  <script defer="defer" src="../../../../static/js/flickity.pkgd.min3601.js?ver=2.2.0"></script>
  <script defer="defer" src="../../../../static/js/jquery.scrollTo.min431f.js?ver=2.1.2"></script>
  <script defer="defer" src="../../../../static/js/jquery.localScroll.min001e.js?ver=2.0.0"></script>
  <script defer="defer" src="../../../../static/js/jquery.easing.min330a.js?ver=1.4.1"></script>
  <script defer="defer" src="../../../../static/js/modernizr-touchaf6c.js?ver=3.6.0"></script>
  <script defer="defer" src="../../../../static/js/select2.minf39e.js?ver=4.0.1"></script>
  <script defer="defer" src="../../../../static/js/mixitup.min3d36.js?ver=3.3.1"></script>
  <script defer="defer" src="../../../../static/js/mixitup-multifilter.min7984.js?ver=3.3.4"></script>
  <script defer="defer" src="../../../../static/js/player.min0ad8.js?ver=2.10.0"></script>
  <script defer="defer" src="../../../../static/js/lazysizes.minf08a.js?ver=5.2.0"></script>
  <script defer="defer" src="../../../../static/js/init-distedb9.js?ver=1594221671"></script>
</body>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>

</html>
